<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>Baby Language Lab Scripts: C:/Users/Wayne/Documents/baby-lab/bll_app/utils/add_filter_window.py Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="bll_icon.jpg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Baby Language Lab Scripts
   </div>
   <div id="projectbrief">A collection of data processing tools.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('add__filter__window_8py_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">add_filter_window.py</div>  </div>
</div><!--header-->
<div class="contents">
<a href="add__filter__window_8py.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno"><a class="code" href="namespaceutils_1_1add__filter__window.html">    1</a></span>&#160;<span class="comment">## @package utils.add_filter_window</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="keyword">from</span> gi.repository <span class="keyword">import</span> Gtk <span class="keyword">as</span> gtk</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="keyword">from</span> <a class="code" href="namespacedb_1_1bll__database.html">db.bll_database</a> <span class="keyword">import</span> DBConstants</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="keyword">from</span> <a class="code" href="namespaceutils_1_1ui__utils.html">utils.ui_utils</a> <span class="keyword">import</span> UIUtils</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="keyword">from</span> <a class="code" href="namespacedata__structs_1_1seg__filters.html">data_structs.seg_filters</a> <span class="keyword">import</span> *</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">## This class provides a window that allows the user to create various types of segment filters.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"># When the window is closed (via the ok button), a callback function is invoked and passed a</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"># SegFilter object corresponding to the newly created filter.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"># Here is a screenshot of what this class looks like in the UI:</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"># &lt;img src=&quot;../images/add_filter_window.png&quot;&gt;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno"><a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html">   14</a></span>&#160;<span class="keyword">class </span><a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html" title="This class provides a window that allows the user to create various types of segment filters...">AddFilterWindow</a>(object):</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    <span class="comment">## Constructor</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    <span class="comment"># @param self</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    <span class="comment"># @param callback (function pointer) this callback function will be called with a SegFilter object when the window is closed via the OK button. If the window is closed in some other way (cancel button, x button),</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    <span class="comment"># the callback is not invoked. The callback function must accept a single parameter - a SegFilter object.</span></div>
<div class="line"><a name="l00019"></a><span class="lineno"><a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#a0b6d474bf3729e95235c47a3e970b0e4">   19</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#a0b6d474bf3729e95235c47a3e970b0e4" title="Constructor.">__init__</a>(self, callback):</div>
<div class="line"><a name="l00020"></a><span class="lineno"><a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#afbd31f3494cf1cbeb3a78d92a7bd714c">   20</a></span>&#160;        self.<a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#afbd31f3494cf1cbeb3a78d92a7bd714c">callback</a> = callback</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;        </div>
<div class="line"><a name="l00022"></a><span class="lineno"><a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#af089bc3af837f4cf409679e0825ccfb8">   22</a></span>&#160;        self.<a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#af089bc3af837f4cf409679e0825ccfb8">window</a> = gtk.Window(gtk.WindowType.TOPLEVEL)</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;        self.window.set_title(<span class="stringliteral">&#39;Add Filter&#39;</span>)</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;        self.window.set_border_width(10)</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;        self.window.set_default_size(300, 350)</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div>
<div class="line"><a name="l00027"></a><span class="lineno"><a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#abf9b10eccb3641e28ffa07c305d75170">   27</a></span>&#160;        self.<a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#abf9b10eccb3641e28ffa07c305d75170">inputs_dict</a> = {<span class="stringliteral">&#39;filter_type&#39;</span>: <span class="keywordtype">None</span>,</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;                            <span class="stringliteral">&#39;negate&#39;</span>: <span class="keywordtype">None</span>,</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;                            <span class="stringliteral">&#39;type_inputs&#39;</span>: [],</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;                            }</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;        self.<a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#ab7cd2db6be82c6159146ff8d33cdb0dd" title="An internal method to construct all the UI widgets, hook up their signals, and place them in the wind...">_build</a>()</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <span class="comment">## An internal method to construct all the UI widgets, hook up their signals, and place them in the window.</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="comment"># @param self</span></div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#ab7cd2db6be82c6159146ff8d33cdb0dd">   35</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#ab7cd2db6be82c6159146ff8d33cdb0dd" title="An internal method to construct all the UI widgets, hook up their signals, and place them in the wind...">_build</a>(self):</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        <span class="comment">#table = gtk.Table(3, 2)</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        <span class="comment">#table.set_row_spacings(5)</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        <span class="comment">#table.set_col_spacings(2)</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        grid = gtk.Grid()</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        grid.set_row_spacing(5)</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        grid.set_column_spacing(2)</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        </div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        type_label = gtk.Label(<span class="stringliteral">&#39;Filter Type:&#39;</span>)</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        <span class="comment">#table.attach(type_label, 0, 1, 0, 1, gtk.EXPAND, gtk.EXPAND)</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        grid.attach(type_label, 0, 0, 1, 1)</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        filter_type_combo = UIUtils.build_options_combo(DBConstants.COMBO_GROUPS.SEG_FILTER_TYPES)</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        <span class="comment">#table.attach(filter_type_combo, 1, 2, 0, 1, gtk.EXPAND, gtk.EXPAND)</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        grid.attach(filter_type_combo, 1, 0, 1, 1)</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        self.<a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#abf9b10eccb3641e28ffa07c305d75170">inputs_dict</a>[<span class="stringliteral">&#39;filter_type&#39;</span>] = (<span class="keyword">lambda</span>: filter_type_combo.get_active() &gt; 0,</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                                           <span class="keyword">lambda</span>: filter_type_combo.get_model()[filter_type_combo.get_active()][1])</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        negate_label = gtk.Label(<span class="stringliteral">&#39;Negate:&#39;</span>)</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <span class="comment">#table.attach(negate_label, 0, 1, 1, 2, gtk.EXPAND, gtk.EXPAND)</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        grid.attach(negate_label, 0, 1, 1, 1)</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        negate_checkbox = gtk.CheckButton()</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        negate_hbox = gtk.HBox()</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        negate_hbox.pack_start(negate_checkbox, <span class="keyword">True</span>, <span class="keyword">True</span>, 0)</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        negate_hbox.pack_start(gtk.Alignment(xalign=0, yalign=0), <span class="keyword">True</span>, <span class="keyword">True</span>, 0)</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <span class="comment">#table.attach(negate_hbox, 1, 2, 1, 2, gtk.EXPAND|gtk.FILL, gtk.EXPAND|gtk.FILL)</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        grid.attach(negate_hbox, 1, 1, 1, 1)</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        self.<a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#abf9b10eccb3641e28ffa07c305d75170">inputs_dict</a>[<span class="stringliteral">&#39;negate&#39;</span>] = (<span class="keyword">lambda</span>: <span class="keyword">True</span>,</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                                      <span class="keyword">lambda</span>: negate_checkbox.get_active())</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        opts_vbox = gtk.VBox()</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <span class="comment">#table.attach(opts_vbox, 0, 2, 2, 3)</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        grid.attach(opts_vbox, 0, 2, 2, 1)</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        filter_type_combo.connect(<span class="stringliteral">&#39;changed&#39;</span>, <span class="keyword">lambda</span> w: self.<a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#ab77a3e00c620d36daab9b98054c37022" title="The window provides a combo box that allows the user to select the type of filter they want to create...">_update_add_inputs</a>(opts_vbox))</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        button_box = gtk.HButtonBox()</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        button_box.set_layout(gtk.ButtonBoxStyle.EDGE)</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        cancel_button = gtk.Button(stock=gtk.STOCK_CANCEL)</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        cancel_button.connect(<span class="stringliteral">&#39;clicked&#39;</span>, <span class="keyword">lambda</span> w: self.window.destroy())</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        button_box.pack_start(cancel_button, <span class="keyword">False</span>, <span class="keyword">False</span>, 0)</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        ok_button = gtk.Button(stock=gtk.STOCK_OK)</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        ok_button.connect(<span class="stringliteral">&#39;clicked&#39;</span>, <span class="keyword">lambda</span> w: self.<a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#ae06bbc60a65d26f73705eec32ef02435" title="This is called when the ok button is clicked.">_create_filter</a>())</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        button_box.pack_start(ok_button, <span class="keyword">False</span>, <span class="keyword">False</span>, 0)</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        vbox = gtk.VBox()</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        vbox.pack_start(grid, <span class="keyword">False</span>, <span class="keyword">False</span>, 0)</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        vbox.pack_end(button_box, <span class="keyword">False</span>, <span class="keyword">False</span>, 0)</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        self.window.add(vbox)</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        self.window.show_all()</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="comment">## The window provides a combo box that allows the user to select the type of filter they want to create. When the selection in this combo box changes, this method is invoked. It updates the rest of the window</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="comment"># to show the necessary inputs for creating the selected type of filter.</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="comment"># @param self</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="comment"># @param vbox (gtk.VBox) a GTK vertical packing box to populate/purge of input widgets.</span></div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#ab77a3e00c620d36daab9b98054c37022">   92</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#ab77a3e00c620d36daab9b98054c37022" title="The window provides a combo box that allows the user to select the type of filter they want to create...">_update_add_inputs</a>(self, vbox):</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <span class="comment">#remove previous children</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        map(<span class="keyword">lambda</span> child: vbox.remove(child), vbox.get_children())</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        self.<a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#abf9b10eccb3641e28ffa07c305d75170">inputs_dict</a>[<span class="stringliteral">&#39;type_inputs&#39;</span>] = []</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <span class="comment">#get new combo value</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        sel_opt = self.<a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#abf9b10eccb3641e28ffa07c305d75170">inputs_dict</a>[<span class="stringliteral">&#39;filter_type&#39;</span>][1]()</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        options = DBConstants.COMBO_OPTIONS[DBConstants.COMBO_GROUPS.SEG_FILTER_TYPES]</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <span class="comment">#add new children, based on new filter type</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <span class="keywordflow">if</span> sel_opt == options.SPEAKER:</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            treeview = self.<a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#a87659bcc5476a940df8e10f3aebd48a7" title="Builds a treeview (a UI list) of code options for a given type of filter.">_build_codes_treeview</a>(DBConstants.COMBO_GROUPS.SPEAKER_CODES, <span class="stringliteral">&#39;Select Speaker Codes:&#39;</span>)</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            vbox.pack_start(treeview, <span class="keyword">True</span>, <span class="keyword">True</span>, 0)</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            self.<a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#abf9b10eccb3641e28ffa07c305d75170">inputs_dict</a>[<span class="stringliteral">&#39;type_inputs&#39;</span>].append( (<span class="keyword">lambda</span>: len(self.<a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#a5943aaaa01c2eadff69043b91aa8f68d" title="Retrieves the code names of the selected code options in a given treeview.">_get_treeview_combo_opts</a>(treeview, DBConstants.COMBO_GROUPS.SPEAKER_CODES)) &gt; 0,</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                                                     <span class="keyword">lambda</span>: self.<a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#a5943aaaa01c2eadff69043b91aa8f68d" title="Retrieves the code names of the selected code options in a given treeview.">_get_treeview_combo_opts</a>(treeview, DBConstants.COMBO_GROUPS.SPEAKER_CODES)) )</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="keywordflow">elif</span> sel_opt == options.TIME:</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            <span class="comment">#table = gtk.Table(2, 2)</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            grid = gtk.Grid()</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            criteria_label = gtk.Label(<span class="stringliteral">&#39;Criteria:&#39;</span>)</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            <span class="comment">#criteria_label.set_alignment(xalign=1.0, yalign=0.5)</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            <span class="comment">#table.attach(criteria_label, 0, 1, 0, 1)</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            grid.attach(criteria_label, 0, 0, 1, 1)</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            criteria_combo = UIUtils.build_options_combo(DBConstants.COMBO_GROUPS.SEG_FILTER_TIME)</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            <span class="comment">#table.attach(criteria_combo, 1, 2, 0, 1)</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            grid.attach(criteria_combo, 1, 0, 1, 1)</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            self.<a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#abf9b10eccb3641e28ffa07c305d75170">inputs_dict</a>[<span class="stringliteral">&#39;type_inputs&#39;</span>].append( (<span class="keyword">lambda</span>: criteria_combo.get_active() &gt; 0,</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                                                     <span class="keyword">lambda</span>: criteria_combo.get_model()[criteria_combo.get_active()][1]) )</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            </div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            time_label = gtk.Label(<span class="stringliteral">&#39;Time (h:m:s):&#39;</span>)</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            <span class="comment">#time_label.set_alignment(xalign=1.0, yalign=0.5)</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            <span class="comment">#table.attach(time_label, 0, 1, 1, 2)</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            grid.attach(time_label, 0, 1, 1, 1)</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        </div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            time_inputs_box, hours_spinner, mins_spinner, secs_spinner = UIUtils.get_time_spinners()</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            self.<a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#abf9b10eccb3641e28ffa07c305d75170">inputs_dict</a>[<span class="stringliteral">&#39;type_inputs&#39;</span>].append(</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                (<span class="keyword">lambda</span>: hours_spinner.get_value_as_int() &gt; 0 <span class="keywordflow">or</span> mins_spinner.get_value_as_int() &gt; 0 <span class="keywordflow">or</span> secs_spinner.get_value_as_int() &gt; 0,</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                <span class="keyword">lambda</span>: hours_spinner.get_value_as_int() * 60 * 60 + mins_spinner.get_value_as_int() * 60 + secs_spinner.get_value_as_int())</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                )</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            </div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            <span class="comment">#table.attach(time_inputs_box, 1, 2, 1, 2)</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            grid.attach(time_inputs_box, 1, 1, 1, 1)</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            vbox.pack_start(grid, <span class="keyword">True</span>, <span class="keyword">True</span>, 0)</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <span class="keywordflow">elif</span> sel_opt == options.SPEAKER_TYPE:</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            treeview = self.<a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#a87659bcc5476a940df8e10f3aebd48a7" title="Builds a treeview (a UI list) of code options for a given type of filter.">_build_codes_treeview</a>(DBConstants.COMBO_GROUPS.SPEAKER_TYPES, <span class="stringliteral">&#39;Select Speaker Types:&#39;</span>)</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            vbox.pack_start(treeview, <span class="keyword">True</span>, <span class="keyword">True</span>, 0)</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            self.<a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#abf9b10eccb3641e28ffa07c305d75170">inputs_dict</a>[<span class="stringliteral">&#39;type_inputs&#39;</span>].append( (<span class="keyword">lambda</span>: len(self.<a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#a5943aaaa01c2eadff69043b91aa8f68d" title="Retrieves the code names of the selected code options in a given treeview.">_get_treeview_combo_opts</a>(treeview, DBConstants.COMBO_GROUPS.SPEAKER_TYPES)) &gt; 0,</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                                                     <span class="keyword">lambda</span>: self.<a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#a5943aaaa01c2eadff69043b91aa8f68d" title="Retrieves the code names of the selected code options in a given treeview.">_get_treeview_combo_opts</a>(treeview, DBConstants.COMBO_GROUPS.SPEAKER_TYPES)) )</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <span class="keywordflow">elif</span> sel_opt == options.TARGET_LISTENER:</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            treeview = self.<a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#a87659bcc5476a940df8e10f3aebd48a7" title="Builds a treeview (a UI list) of code options for a given type of filter.">_build_codes_treeview</a>(DBConstants.COMBO_GROUPS.TARGET_LISTENERS, <span class="stringliteral">&#39;Select Target Listeners:&#39;</span>)</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            vbox.pack_start(treeview, <span class="keyword">True</span>, <span class="keyword">True</span>, 0)</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            self.<a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#abf9b10eccb3641e28ffa07c305d75170">inputs_dict</a>[<span class="stringliteral">&#39;type_inputs&#39;</span>].append( (<span class="keyword">lambda</span>: len(self.<a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#a5943aaaa01c2eadff69043b91aa8f68d" title="Retrieves the code names of the selected code options in a given treeview.">_get_treeview_combo_opts</a>(treeview, DBConstants.COMBO_GROUPS.TARGET_LISTENERS)) &gt; 0,</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                                                     <span class="keyword">lambda</span>: self.<a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#a5943aaaa01c2eadff69043b91aa8f68d" title="Retrieves the code names of the selected code options in a given treeview.">_get_treeview_combo_opts</a>(treeview, DBConstants.COMBO_GROUPS.TARGET_LISTENERS)) )</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <span class="keywordflow">elif</span> sel_opt == options.GRAMMATICALITY:</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            treeview = self.<a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#a87659bcc5476a940df8e10f3aebd48a7" title="Builds a treeview (a UI list) of code options for a given type of filter.">_build_codes_treeview</a>(DBConstants.COMBO_GROUPS.GRAMMATICALITY, <span class="stringliteral">&#39;Select Grammaticality/Completeness options:&#39;</span>)</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            vbox.pack_start(treeview, <span class="keyword">True</span>, <span class="keyword">True</span>, 0)</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            self.<a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#abf9b10eccb3641e28ffa07c305d75170">inputs_dict</a>[<span class="stringliteral">&#39;type_inputs&#39;</span>].append( (<span class="keyword">lambda</span>: len(self.<a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#a5943aaaa01c2eadff69043b91aa8f68d" title="Retrieves the code names of the selected code options in a given treeview.">_get_treeview_combo_opts</a>(treeview, DBConstants.COMBO_GROUPS.GRAMMATICALITY)) &gt; 0,</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                                                     <span class="keyword">lambda</span>: self.<a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#a5943aaaa01c2eadff69043b91aa8f68d" title="Retrieves the code names of the selected code options in a given treeview.">_get_treeview_combo_opts</a>(treeview, DBConstants.COMBO_GROUPS.GRAMMATICALITY)) )</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="keywordflow">elif</span> sel_opt == options.UTTERANCE_TYPE:</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            treeview = self.<a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#a87659bcc5476a940df8e10f3aebd48a7" title="Builds a treeview (a UI list) of code options for a given type of filter.">_build_codes_treeview</a>(DBConstants.COMBO_GROUPS.UTTERANCE_TYPES, <span class="stringliteral">&#39;Select Utterance Types:&#39;</span>)</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            vbox.pack_start(treeview, <span class="keyword">True</span>, <span class="keyword">True</span>, 0)</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            self.<a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#abf9b10eccb3641e28ffa07c305d75170">inputs_dict</a>[<span class="stringliteral">&#39;type_inputs&#39;</span>].append( (<span class="keyword">lambda</span>: len(self.<a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#a5943aaaa01c2eadff69043b91aa8f68d" title="Retrieves the code names of the selected code options in a given treeview.">_get_treeview_combo_opts</a>(treeview, DBConstants.COMBO_GROUPS.UTTERANCE_TYPES)) &gt; 0,</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                                                     <span class="keyword">lambda</span>: self.<a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#a5943aaaa01c2eadff69043b91aa8f68d" title="Retrieves the code names of the selected code options in a given treeview.">_get_treeview_combo_opts</a>(treeview, DBConstants.COMBO_GROUPS.UTTERANCE_TYPES)) )</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        vbox.show_all()</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="comment">## Retrieves the code names of the selected code options in a given treeview.</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="comment"># @param self</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="comment"># @param treeview (gtk.Treeview) the treeview whose rows we are examining</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="comment"># @param combo_group (int) value from the enum DBConstants.COMBO_GROUPS, indicating which option is selected in the filter types combo box (i.e. indicates what type of filter we&#39;re creating so that we can access the corresponding options).</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="comment"># @returns (list) a list of strings, one for each selected code option. For example, if we are working with a treeview that displays LENA speaker codes, we might get [&#39;MAN&#39;, &#39;FAN&#39;]. In this case, the combo_group param (above) would have been set to</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="comment"># DBConstants.COMBO_GROUPS.SPEAKER_CODES.</span></div>
<div class="line"><a name="l00170"></a><span class="lineno"><a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#a5943aaaa01c2eadff69043b91aa8f68d">  170</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#a5943aaaa01c2eadff69043b91aa8f68d" title="Retrieves the code names of the selected code options in a given treeview.">_get_treeview_combo_opts</a>(self, treeview, combo_group):</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        code_names = []</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        model, paths = treeview.get_selection().get_selected_rows()</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <span class="keywordflow">for</span> cur_path <span class="keywordflow">in</span> paths:</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            <span class="comment">#since the list is in the same order as the options in the enum, we can just use cur_path (the index of the selected item in the list) to access the corresponding combo_option. Note that we must add 1 to cur_path to adjust for the omission of the &#39;Empty&#39; option (which is present in the enum, but not the list).</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            combo_option = DBConstants.COMBO_OPTIONS[combo_group][cur_path[0] + 1]</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            code_names.append(DBConstants.COMBOS[combo_group][combo_option].code_name) <span class="comment">#note: this only works if the code name in combo_option corresponds exactly to the string code...</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <span class="keywordflow">return</span> code_names</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="comment">## Builds a treeview (a UI list) of code options for a given type of filter. The user can select multiple rows from this list at the same time.</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="comment"># @param self</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="comment"># @param combo_group (int) value from the enum DBConstants.COMBO_GROUPS, indicating which option is selected in the filter types combo box (i.e. indicates what type of filter we&#39;re creating so that we can access the corresponding options).</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="comment"># @param header_text (string) this text will be displayed at the very top of the treeview, as a title</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="comment"># @returns (gtk.Treeview) a Treeview object for the specified type of code</span></div>
<div class="line"><a name="l00185"></a><span class="lineno"><a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#a87659bcc5476a940df8e10f3aebd48a7">  185</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#a87659bcc5476a940df8e10f3aebd48a7" title="Builds a treeview (a UI list) of code options for a given type of filter.">_build_codes_treeview</a>(self, combo_group, header_text):</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        list_store = UIUtils.build_options_liststore(combo_group, <span class="keyword">False</span>)</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        treeview = gtk.TreeView(list_store)</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        treeview.get_selection().set_mode(gtk.SelectionMode.MULTIPLE)</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        col = gtk.TreeViewColumn(header_text, gtk.CellRendererText(), text=0)</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        treeview.append_column(col)</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        col.set_sizing(gtk.TreeViewColumnSizing.AUTOSIZE)</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        col = gtk.TreeViewColumn(<span class="stringliteral">&#39;ID&#39;</span>, gtk.CellRendererText(), text=1)</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        col.set_visible(<span class="keyword">False</span>)</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        col.set_sizing(gtk.TreeViewColumnSizing.AUTOSIZE)</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        treeview.append_column(col)</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <span class="keywordflow">return</span> treeview</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="comment">## This method is called by _create_filter(). It makes sure all the inputs have been filled out (before the calling code creates the filter).</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="comment"># @param self</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="comment"># @returns (boolean) True if all inputs are filled out, False if one or more are empty</span></div>
<div class="line"><a name="l00204"></a><span class="lineno"><a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#adb5273e04b6e325384528f58b652832a">  204</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#adb5273e04b6e325384528f58b652832a" title="This method is called by _create_filter().">_validate</a>(self):</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        valid = self.<a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#abf9b10eccb3641e28ffa07c305d75170">inputs_dict</a>[<span class="stringliteral">&#39;filter_type&#39;</span>][0]() <span class="keywordflow">and</span> self.<a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#abf9b10eccb3641e28ffa07c305d75170">inputs_dict</a>[<span class="stringliteral">&#39;negate&#39;</span>][0]()</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        i = 0</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="keywordflow">while</span> valid <span class="keywordflow">and</span> i &lt; len(self.<a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#abf9b10eccb3641e28ffa07c305d75170">inputs_dict</a>[<span class="stringliteral">&#39;type_inputs&#39;</span>]):</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            input_tuple = self.<a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#abf9b10eccb3641e28ffa07c305d75170">inputs_dict</a>[<span class="stringliteral">&#39;type_inputs&#39;</span>][i]</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            valid = input_tuple[0]()</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            i += 1</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="keywordflow">return</span> valid</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="comment">## This is called when the ok button is clicked. It creates a SegFilter object using the UI input values. The callback function is then invoked, passing the SegFilter object as its argument.</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="comment"># @param self</span></div>
<div class="line"><a name="l00217"></a><span class="lineno"><a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#ae06bbc60a65d26f73705eec32ef02435">  217</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#ae06bbc60a65d26f73705eec32ef02435" title="This is called when the ok button is clicked.">_create_filter</a>(self):</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#adb5273e04b6e325384528f58b652832a" title="This method is called by _create_filter().">_validate</a>():</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            filter_type = self.<a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#abf9b10eccb3641e28ffa07c305d75170">inputs_dict</a>[<span class="stringliteral">&#39;filter_type&#39;</span>][1]()</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            options = DBConstants.COMBO_OPTIONS[DBConstants.COMBO_GROUPS.SEG_FILTER_TYPES]</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            negate = self.<a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#abf9b10eccb3641e28ffa07c305d75170">inputs_dict</a>[<span class="stringliteral">&#39;negate&#39;</span>][1]()</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            args = []</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            <span class="keywordflow">for</span> arg_tuple <span class="keywordflow">in</span> self.<a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#abf9b10eccb3641e28ffa07c305d75170">inputs_dict</a>[<span class="stringliteral">&#39;type_inputs&#39;</span>]:</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                args.append(arg_tuple[1]())</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            <span class="comment">#instantiate the appropriate subclass based on the type of filter being created</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            seg_filter = {</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                options.SPEAKER: <span class="keyword">lambda</span>: <a class="code" href="classdata__structs_1_1seg__filters_1_1_speaker_code_seg_filter.html" title="This type of Filter can be used to include only segments/chains with particular LENA-defined speaker ...">SpeakerCodeSegFilter</a>(*args, negate=negate),</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                options.TIME: <span class="keyword">lambda</span>: <a class="code" href="classdata__structs_1_1seg__filters_1_1_time_seg_filter.html" title="This filter strains out utterances that start or end after a specific time.">TimeSegFilter</a>(*args, inclusive=<span class="keyword">False</span>, negate=negate), <span class="comment">#my fault for breaking the pattern by defining the constructor in this way - unfortunately now it&#39;s too late to change it, as ordered args are stored in the database for some apps...</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                options.SPEAKER_TYPE: <span class="keyword">lambda</span>: <a class="code" href="classdata__structs_1_1seg__filters_1_1_speaker_type_seg_filter.html" title="This class filters by transcriber code 1 (speaker type).">SpeakerTypeSegFilter</a>(*args, negate=negate),</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                options.TARGET_LISTENER: <span class="keyword">lambda</span>: <a class="code" href="classdata__structs_1_1seg__filters_1_1_target_listener_seg_filter.html" title="This class filters by transcriber code 2 (target listener).">TargetListenerSegFilter</a>(*args, negate=negate),</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                options.GRAMMATICALITY: <span class="keyword">lambda</span>: <a class="code" href="classdata__structs_1_1seg__filters_1_1_grammaticality_seg_filter.html" title="This class filters by transcriber code 3 (grammaticality/completeness).">GrammaticalitySegFilter</a>(*args, negate=negate),</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                options.UTTERANCE_TYPE: <span class="keyword">lambda</span>: <a class="code" href="classdata__structs_1_1seg__filters_1_1_utterance_type_seg_filter.html" title="This class filters by transcriber code 4 (utterance type).">UtteranceTypeSegFilter</a>(*args, negate=negate),</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                options.OVERLAPPING_VOCALS: <span class="keyword">lambda</span>: <a class="code" href="classdata__structs_1_1seg__filters_1_1_overlapping_vocals_seg_filter.html" title="This type of filter searches for Utterances of types OLN, OLF, and/or transcribed with &#39;&lt;&gt;&#39;...">OverlappingVocalsSegFilter</a>(*args, negate=negate),</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            }[filter_type]()</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            self.window.destroy()</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            self.<a class="code" href="classutils_1_1add__filter__window_1_1_add_filter_window.html#afbd31f3494cf1cbeb3a78d92a7bd714c">callback</a>(seg_filter)</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            UIUtils.show_empty_form_dialog()</div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_cbdb8362360e11eafe2fa3bc74cf0ffd.html">utils</a></li><li class="navelem"><a class="el" href="add__filter__window_8py.html">add_filter_window.py</a></li>
    <li class="footer">Generated on Tue May 12 2015 12:33:19 for Baby Language Lab Scripts by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>
